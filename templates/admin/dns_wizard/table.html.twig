<div class="table-responsive">
    <table class="table table-striped align-middle mb-0">
        <thead>
        <tr>
            <th style="width: 20%">Name</th>
            <th style="width: 10%">Type</th>
            <th style="width: 22%">Expected</th>
            <th style="width: 22%">Actual</th>
            <th style="width: 10%">Status</th>
            <th style="width: 16%">Message</th>
        </tr>
        </thead>
        <tbody>
        {% for row in rows %}
            {% set status = row.status.value %}
            {% set badgeClass =
                status == 'ok' ? 'bg-success' :
                (status == 'warning' ? 'bg-warning text-dark' : 'bg-danger')
            %}
            <tr>
                <td><code>{{ row.subject }}</code></td>
                <td><span class="badge bg-secondary">{{ row.recordType }}</span></td>
                <td class="small">
                    {% if row.expectedValues is empty %}
                        <span class="text-muted">—</span>
                    {% else %}
                        {{ row.expectedValues|join('<br>')|raw }}
                    {% endif %}
                </td>
                <td class="small" style="max-width: 200px; overflow-x: auto; word-break: break-all;">
                    {% if row.actualValues is empty %}
                        <span class="text-muted">—</span>
                    {% else %}
                        {{ row.actualValues|join('<br>')|raw }}
                    {% endif %}
                </td>
                <td>
                    <span class="badge {{ badgeClass }}">{{ status|upper }}</span>
                </td>
                <td class="small">{{ row.message }}</td>
            </tr>
        {% else %}
            <tr>
                <td colspan="6" class="text-muted">No checks available.</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

